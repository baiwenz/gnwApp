package com.example.mylibrary.presenter;

import com.example.commonlibrary.bean.ApiResult;
import com.example.commonlibrary.bean.Message;
import com.example.commonlibrary.interfaces.OnCallBackListener;
import com.example.commonlibrary.presenter.BasePresenter;
import com.example.mylibrary.model.Impl.LoginModelImpl;
import com.example.mylibrary.model.LoginModel;
import com.example.mylibrary.view.ILoginView;

public class LoginPressenter<T extends ILoginView> extends BasePresenter<T>{
    LoginModel mLoginModel = new LoginModelImpl();
    public LoginPressenter() {
    }
    public void getCode(String phoneNumber) {
        if (mTWeakReference.get() != null) {
            mTWeakReference.get().showLoading();
            if (mLoginModel != null) {
                mLoginModel.postMsg(new OnCallBackListener<Message>() {

                    @Override
                    public void onSuccess(Message message) {
                        mTWeakReference.get().Code(message);
                    }

                    @Override
                    public void onFailed(String e) {
                        mTWeakReference.get().onError(e);
                    }
                },phoneNumber);
            }
        }
    }
}
