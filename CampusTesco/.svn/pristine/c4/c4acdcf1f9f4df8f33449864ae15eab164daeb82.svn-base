package com.example.mylibrary.fragment;

import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

import com.alibaba.android.arouter.facade.annotation.Route;
import com.alibaba.android.arouter.launcher.ARouter;
import com.example.commonlibrary.base.BaseFragment;
import com.example.commonlibrary.bean.Goods;
import com.example.commonlibrary.bean.Order;
import com.example.commonlibrary.presenter.BasePresenter;
import com.example.mylibrary.Adapater.OrderListAdapater;
import com.example.mylibrary.R;

import java.util.ArrayList;
import java.util.List;

@Route(path = "/my/OrderFragment")
public class OrderFragment extends BaseFragment implements View.OnClickListener{
    private static OrderFragment mOrderFragment;
    private OrderListAdapater orderListAdapater;
    private ListView list_order;
    public static OrderFragment newInstance(String param1) {
        mOrderFragment = new OrderFragment();
        Bundle args = new Bundle();
        args.putString("agrs1", param1);
        mOrderFragment.setArguments(args);
        return mOrderFragment;
    }
    public OrderFragment(){

    }
    private void setOrderListAdapterList(){
        orderListAdapater=new OrderListAdapater(getActivity(),getOrderListData());
        list_order.setAdapter(orderListAdapater);
        orderListAdapater.notifyDataSetChanged();
    }
    private List<Order> getOrderListData(){
        List<Order> orderList=new ArrayList<>();
        for(int i=0;i<10;i++){
            List<Goods> goodsList=new ArrayList<>();
            Goods goods = new Goods();
            goods.setGoodName("青椒肉丝盖饭"+i);
            goodsList.add(goods);
            Order order=new Order();
            order.setShop_name("商店"+i);
            order.setAll_price(55.5*i);
            order.setState(1);
            order.setGoodsList(goodsList);
            orderList.add(order);
        }
        return orderList;
    }
    @Override
    public void onClick(View v) {

    }
    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {

    }

    @Override
    protected BasePresenter createPresenter() {
        return null;
    }

    @Override
    protected int initLayoutInflater() {
        return R.layout.order_fragment;
    }

    @Override
    public void initView(View view) {
        list_order=view.findViewById(R.id.list_order);
    }

    @Override
    public void initData() {
        setOrderListAdapterList();
    }
}
